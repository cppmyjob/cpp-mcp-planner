# MCP Planning Server - Setup Guide

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js** –≤–µ—Ä—Å–∏–∏ 20.x –∏–ª–∏ –≤—ã—à–µ ([—Å–∫–∞—á–∞—Ç—å](https://nodejs.org/))
- **npm** –≤–µ—Ä—Å–∏–∏ 9.x –∏–ª–∏ –≤—ã—à–µ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å Node.js)
- **Windows** (–¥–ª—è bat —Å–∫—Ä–∏–ø—Ç–æ–≤) –∏–ª–∏ **Linux/macOS** (–¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Windows)

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

```cmd
start-dev.bat
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É Node.js
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`npm install`)
3. ‚úÖ –°–æ–±–µ—Ä–µ—Ç –≤—Å–µ –ø–∞–∫–µ—Ç—ã (`npm run build`)
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç Web Server –Ω–∞ –ø–æ—Ä—Ç—É **8790**
5. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç Web Dashboard –Ω–∞ –ø–æ—Ä—Ç—É **8791**

### –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏

```cmd
start-quick.bat
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω.

---

## üõ†Ô∏è –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–≤—Å–µ –û–°)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm run build
```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Web Server (REST API):**
```bash
npm run dev:web
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Web Dashboard (Angular):**
```bash
npm run dev:dashboard
```

---

## üåê –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- **Web Dashboard**: http://localhost:8791
- **REST API**: http://localhost:8790
- **API Docs (Swagger)**: http://localhost:8790/api

> ‚è≥ –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è "Compiled successfully" –æ—Ç Angular –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º Dashboard

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤

### –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Windows CMD:**
```cmd
set MCP_PLANNER_SERVER_PORT=9500
set MCP_PLANNER_DASHBOARD_PORT=9501
npm run dev:web
```

**Windows PowerShell:**
```powershell
$env:MCP_PLANNER_SERVER_PORT=9500
$env:MCP_PLANNER_DASHBOARD_PORT=9501
npm run dev:web
```

**Linux/macOS:**
```bash
export MCP_PLANNER_SERVER_PORT=9500
export MCP_PLANNER_DASHBOARD_PORT=9501
npm run dev:web
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª:
```
packages/config/src/constants.ts
```

```typescript
export const WEB_SERVER_PORT = 8790;      // REST API
export const WEB_DASHBOARD_PORT = 8791;   // Angular UI
```

–ó–∞—Ç–µ–º –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ config –ø–∞–∫–µ—Ç:
```bash
npm run build:config
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mcp-planning-server/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ config/          # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ core/            # –î–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ mcp-server/      # MCP –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–µ—Ä–≤–µ—Ä (Claude Code CLI)
‚îÇ   ‚îú‚îÄ‚îÄ web-server/      # REST API (NestJS)
‚îÇ   ‚îî‚îÄ‚îÄ web-dashboard/   # Web UI (Angular + PrimeNG)
‚îú‚îÄ‚îÄ tests/               # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ E2E —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ start-dev.bat        # –°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ (Windows)
‚îî‚îÄ‚îÄ start-quick.bat      # –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (Windows)
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í—Å–µ —Ç–µ—Å—Ç—ã

```bash
npm test
```

### Web Server E2E —Ç–µ—Å—Ç—ã

```bash
npm run test:web
```

### Dashboard —Ç–µ—Å—Ç—ã

```bash
cd packages/web-dashboard
npm run test
```

### E2E —Ç–µ—Å—Ç—ã —Å Playwright

```bash
cd packages/web-dashboard
npm run e2e
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

### –õ–∏–Ω—Ç–µ—Ä

```bash
npm run lint
```

### –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
npm run lint:fix
```

### Type checking

```bash
npm run typecheck
```

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã

**–û—à–∏–±–∫–∞:**
```
Error: listen EADDRINUSE: address already in use :::8790
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ –ø–æ—Ä—Ç
2. –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. –≤—ã—à–µ)

### –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å node_modules –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
rm -rf node_modules packages/*/node_modules
npm install
npm run build
```

### Angular –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. Web Server –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8790
2. –ù–µ—Ç –æ—à–∏–±–æ–∫ CORS –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. –î–æ–∂–¥–∏—Ç–µ—Å—å "Compiled successfully" –æ—Ç Angular

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Config Package README](packages/config/README.md) - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤
- [CLAUDE.md](CLAUDE.md) - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [ARCHITECTURE.md](.claude/ARCHITECTURE.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `npm run build` | –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã |
| `npm run build:config` | –°–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ config –ø–∞–∫–µ—Ç |
| `npm run dev:web` | –ó–∞–ø—É—Å—Ç–∏—Ç—å Web Server –≤ dev —Ä–µ–∂–∏–º–µ |
| `npm run dev:dashboard` | –ó–∞–ø—É—Å—Ç–∏—Ç—å Dashboard –≤ dev —Ä–µ–∂–∏–º–µ |
| `npm test` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ unit —Ç–µ—Å—Ç—ã |
| `npm run test:web` | –ó–∞–ø—É—Å—Ç–∏—Ç—å Web Server E2E —Ç–µ—Å—Ç—ã |
| `npm run lint:fix` | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ ESLint –æ—à–∏–±–∫–∏ |

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ `start-dev.bat` –∏–ª–∏ —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

1. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8791
2. ‚úÖ –î–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è Dashboard —Å –±–æ–∫–æ–≤—ã–º –º–µ–Ω—é
3. ‚úÖ API –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ http://localhost:8790/api/v1/plans

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω! üéâ**
